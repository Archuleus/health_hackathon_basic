<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kalp HastalÄ±ÄŸÄ± Risk DeÄŸerlendirme AsistanÄ± - AI destekli analiz">
    <title>Kalp HastalÄ±ÄŸÄ± Risk DeÄŸerlendirme</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>â¤ï¸ Kalp HastalÄ±ÄŸÄ± Risk DeÄŸerlendirme</h1>
            <p>AI ve XGBoost destekli kalp saÄŸlÄ±ÄŸÄ± analizi</p>
        </header>

        <!-- Form Section -->
        <section class="card" id="formSection">
            <h2 class="card-title">
                <span class="icon">ğŸ“</span>
                SaÄŸlÄ±k Bilgilerinizi Girin
            </h2>

            <form id="riskForm">
                <!-- YaÅŸ -->
                <div class="form-group">
                    <label class="form-label" for="age">
                        1. YaÅŸÄ±nÄ±z <span class="required">*</span>
                    </label>
                    <input
                        type="number"
                        id="age"
                        name="age"
                        class="form-input"
                        min="1"
                        max="120"
                        required
                        placeholder="Ã–rn: 45"
                    >
                    <p class="form-hint">1-120 arasÄ± bir deÄŸer girin</p>
                </div>

                <!-- Cinsiyet -->
                <div class="form-group">
                    <label class="form-label">
                        2. Cinsiyetiniz <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="sexMale" name="sex" value="1" required>
                            <label for="sexMale">Erkek</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="sexFemale" name="sex" value="0" required>
                            <label for="sexFemale">KadÄ±n</label>
                        </div>
                    </div>
                </div>

                <!-- GÃ¶ÄŸÃ¼s AÄŸrÄ±sÄ± Tipi -->
                <div class="form-group">
                    <label class="form-label" for="cp">
                        3. GÃ¶ÄŸÃ¼s AÄŸrÄ±sÄ± Tipi <span class="required">*</span>
                    </label>
                    <select id="cp" name="cp" class="form-input" required>
                        <option value="">SeÃ§iniz...</option>
                        <option value="1">Tip 1 - Anjin yok (Tipik olmayan)</option>
                        <option value="2">Tip 2 - Anjina benzeri</option>
                        <option value="3">Tip 3 - Anjina var (Tipik)</option>
                        <option value="0">Asemptomatik (Belirti yok)</option>
                    </select>
                    <p class="form-hint">HissettiÄŸiniz gÃ¶ÄŸÃ¼s aÄŸrÄ±sÄ± tipini seÃ§in</p>
                </div>

                <!-- Dinlenik Kan BasÄ±ncÄ± -->
                <div class="form-group">
                    <label class="form-label" for="trestbps">
                        4. Dinlenik Kan BasÄ±ncÄ± (mmHg) <span class="required">*</span>
                    </label>
                    <input
                        type="number"
                        id="trestbps"
                        name="trestbps"
                        class="form-input"
                        min="80"
                        max="250"
                        required
                        placeholder="Ã–rn: 120"
                    >
                    <p class="form-hint">Normal: 90-120 mmHg</p>
                </div>

                <!-- Kolesterol -->
                <div class="form-group">
                    <label class="form-label" for="chol">
                        5. Kolesterol Seviyesi (mg/dL) <span class="required">*</span>
                    </label>
                    <input
                        type="number"
                        id="chol"
                        name="chol"
                        class="form-input"
                        min="100"
                        max="600"
                        required
                        placeholder="Ã–rn: 200"
                    >
                    <p class="form-hint">Normal: &lt;200 mg/dL</p>
                </div>

                <!-- AÃ§lÄ±k Åekeri -->
                <div class="form-group">
                    <label class="form-label">
                        6. AÃ§lÄ±k Åekeri > 120 mg/dL? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="fbsYes" name="fbs" value="1" required>
                            <label for="fbsYes">Evet</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="fbsNo" name="fbs" value="0" required>
                            <label for="fbsNo">HayÄ±r</label>
                        </div>
                    </div>
                    <p class="form-hint">Diyabet gÃ¶stergesi</p>
                </div>

                <!-- EKG SonuÃ§larÄ± -->
                <div class="form-group">
                    <label class="form-label" for="restecg">
                        7. Dinlenik EKG Sonucu <span class="required">*</span>
                    </label>
                    <select id="restecg" name="restecg" class="form-input" required>
                        <option value="">SeÃ§iniz...</option>
                        <option value="0">Normal</option>
                        <option value="1">ST-T dalgalanmasÄ± borderline</option>
                        <option value="2">Sol ventrikÃ¼ler hipertrofi belirtileri</option>
                    </select>
                </div>

                <!-- Maksimum Kalp HÄ±zÄ± -->
                <div class="form-group">
                    <label class="form-label" for="thalach">
                        8. Maksimum Kalp HÄ±zÄ± <span class="required">*</span>
                    </label>
                    <input
                        type="number"
                        id="thalach"
                        name="thalach"
                        class="form-input"
                        min="60"
                        max="220"
                        required
                        placeholder="Ã–rn: 150"
                    >
                    <p class="form-hint">Egzersiz sÄ±rasÄ±nda ulaÅŸÄ±lan max nabÄ±z</p>
                </div>

                <!-- Egzersiz AnjinasÄ± -->
                <div class="form-group">
                    <label class="form-label">
                        9. Egzersiz SÄ±rasÄ±nda GÃ¶ÄŸÃ¼s AÄŸrÄ±sÄ±? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="exangYes" name="exang" value="1" required>
                            <label for="exangYes">Evet</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="exangNo" name="exang" value="0" required>
                            <label for="exangNo">HayÄ±r</label>
                        </div>
                    </div>
                </div>

                <!-- ST Depresyonu -->
                <div class="form-group">
                    <label class="form-label" for="oldpeak">
                        10. ST Depresyonu (oldpeak) <span class="required">*</span>
                    </label>
                    <input
                        type="number"
                        id="oldpeak"
                        name="oldpeak"
                        class="form-input"
                        min="0"
                        max="10"
                        step="0.1"
                        required
                        placeholder="Ã–rn: 1.5"
                    >
                    <p class="form-hint">Egzersize baÄŸlÄ± ST segment dÃ¼ÅŸÃ¼ÅŸÃ¼</p>
                </div>

                <!-- ST EÄŸimi -->
                <div class="form-group">
                    <label class="form-label" for="slope">
                        11. ST Segment EÄŸimi <span class="required">*</span>
                    </label>
                    <select id="slope" name="slope" class="form-input" required>
                        <option value="">SeÃ§iniz...</option>
                        <option value="1">YukarÄ± (Olumlu)</option>
                        <option value="2">DÃ¼z (NÃ¶tr)</option>
                        <option value="3">AÅŸaÄŸÄ± (Riskli)</option>
                    </select>
                </div>

                <!-- Major Damar SayÄ±sÄ± -->
                <div class="form-group">
                    <label class="form-label" for="ca">
                        12. Boya ile GÃ¶rÃ¼len Major Damar SayÄ±sÄ± (0-3) <span class="required">*</span>
                    </label>
                    <select id="ca" name="ca" class="form-input" required>
                        <option value="">SeÃ§iniz...</option>
                        <option value="0">0 (Temiz)</option>
                        <option value="1">1 damar</option>
                        <option value="2">2 damar</option>
                        <option value="3">3 damar</option>
                    </select>
                    <p class="form-hint">Koronar anjiyografi sonucu (bilmiyorsanÄ±z 0 seÃ§in)</p>
                </div>

                <!-- Thalasemi -->
                <div class="form-group">
                    <label class="form-label" for="thal">
                        13. Thalasemi Sonucu <span class="required">*</span>
                    </label>
                    <select id="thal" name="thal" class="form-input" required>
                        <option value="">SeÃ§iniz...</option>
                        <option value="1">Normal</option>
                        <option value="2">Reversibl Defekt</option>
                        <option value="3">Tespit Edilemez</option>
                    </select>
                    <p class="form-hint">Talium stres testi sonucu</p>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary" id="submitBtn">
                    <span>ğŸ”</span>
                    Risk Analizi Yap
                </button>
            </form>
        </section>

        <!-- Loading Section -->
        <section class="card loading" id="loadingSection">
            <div class="spinner"></div>
            <p>AI modeli analiz yapÄ±yor...</p>
            <p class="form-hint">XGBoost algoritmasÄ± kullanÄ±lÄ±yor</p>
        </section>

        <!-- Results Section -->
        <section class="card results-section" id="resultsSection">
            <h2 class="card-title">
                <span class="icon">ğŸ“Š</span>
                Analiz Sonucu
            </h2>

            <!-- Risk Score -->
            <div class="risk-score">
                <div class="risk-score-value" id="riskScoreValue">0%</div>
                <div class="risk-score-label">Kalp HastalÄ±ÄŸÄ± Risk Skoru</div>
            </div>

            <!-- Risk Badge -->
            <div style="text-align: center;">
                <span class="risk-badge" id="riskBadge">DÃ¼ÅŸÃ¼k Risk</span>
            </div>

            <!-- Factors -->
            <div style="margin-bottom: 20px;">
                <h3 style="font-size: 1rem; margin-bottom: 12px;">DeÄŸerlendirilen FaktÃ¶rler:</h3>
                <ul class="factors-list" id="factorsList">
                    <!-- Dinamik olarak doldurulacak -->
                </ul>
            </div>

            <!-- AI Explanation -->
            <div class="explanation-box">
                <h3>ğŸ¤– Gemini AI AÃ§Ä±klamasÄ±</h3>
                <p id="aiExplanation">AI aÃ§Ä±klamasÄ± yÃ¼kleniyor...</p>
            </div>

            <!-- Disclaimer -->
            <div class="disclaimer">
                <strong>âš ï¸ Ã–nemli UyarÄ±</strong>
                Bu deÄŸerlendirme bilgilendirme amaÃ§lÄ±dÄ±r ve tÄ±bbi teÅŸhis/tedavi yerine geÃ§mez.
                Acil bir durumunuz varsa 112'yi arayÄ±n veya en yakÄ±n saÄŸlÄ±k kuruluÅŸuna baÅŸvurun.
                LÃ¼tfen bir kardiyolog ile gÃ¶rÃ¼ÅŸÃ¼n.
            </div>

            <!-- New Assessment Button -->
            <button class="btn btn-primary" id="newAssessmentBtn" style="margin-top: 20px;">
                <span>ğŸ”„</span>
                Yeni Analiz
            </button>
        </section>
    </div>

    <!-- Scripts -->
    <script src="js/heartData.js"></script>
    <script src="js/heartRiskModel.js"></script>
    <script src="js/geminiService.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
